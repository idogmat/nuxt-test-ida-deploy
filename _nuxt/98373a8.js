(window.webpackJsonp=window.webpackJsonp||[]).push([[4,2],{259:function(t,e,r){"use strict";r.r(e);r(98);var o=r(100),n=r(99),c=r(92),_={data:function(){return{urlImg:"https://frontend-test.idaproject.com",hover:!1,size:{width:"14px",height:"14px"}}},components:{Star:o.default,storeBag:n.default},name:"ProductCard",props:{el:{type:Number,required:!0},category:{type:Number,required:!0},name:{type:String,required:!0},rang:{type:Number,required:!0},img:{type:String,required:!0},price:{type:Number,required:!0}},computed:{changePrice:c.b,capitalizeName:c.a},methods:{putProductToBasket:function(){this.$emit("putProduct",{id:this.el,category:this.category})}}},d=r(8),component=Object(d.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"product",style:t.hover?"outline: 1px solid":"",on:{mouseleave:function(e){t.hover=!1},mouseover:function(e){t.hover=!0},click:t.putProductToBasket}},[r("div",{staticClass:"product__info",style:{background:"url("+(t.urlImg+t.img)+")"}},[r("div",{staticClass:"product__info__top"},[r("div",{staticClass:"product__info__top__rank"},[r("star",{attrs:{rang:t.rang}})],1),t._v(" "),r("div",{staticClass:"product__info__top__bag"},[r("store-bag",{key:"bag"+t.el,attrs:{size:t.size}})],1)]),t._v(" "),r("div",{staticClass:"product__info__bottom"},[r("div",{staticClass:"product__info__bottom__name"},[t._v("\n        "+t._s(t.capitalizeName)+"\n      ")]),t._v(" "),r("div",{staticClass:"product__info__bottom__price"},[t._v("\n        "+t._s(t.changePrice)+" ₽\n      ")])])])])}),[],!1,null,"76ee2c23",null);e.default=component.exports},261:function(t,e,r){"use strict";r.r(e);var o=r(10),n=(r(26),r(2)),c=r(11);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var l={name:"index",components:{ProductCard:r(259).default},fetch:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.store,o=t.params,0!==r.state["category_".concat(o.id)].length){e.next=4;break}return e.next=4,r.dispatch("fetchProducts",o.id);case 4:case"end":return e.stop()}}),e)})))()},data:function(){return{pageCounter:1,selectedSortType:{title:"По цене",type:"price"},sortTypes:[{title:"По цене",type:"price"},{title:"По популярности",type:"rating"}]}},computed:d(d({},Object(c.c)(["GET_PRODUCT_CARDS"])),Object(c.b)(["fetchCategories"])),mounted:function(){},methods:d(d({},Object(c.b)(["pushProductToBasket"])),{},{addProduct:function(t){var e=t.category,r=t.id,o=new Object({category:e,id:r});this.pushProductToBasket(o)}}),watch:{},created:function(){}},f=r(8),component=Object(f.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"main__board__list__sort"},[r("div",{staticClass:"main__board__list__sort__section"},[r("span",[t._v("Сортировка по")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedSortType,expression:"selectedSortType"}],staticClass:"main__board__list__sort__section__input",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedSortType=e.target.multiple?r:r[0]}}},t._l(t.sortTypes,(function(e){return r("option",{key:e.type,staticClass:"main__board__list__sort__section__options",domProps:{value:e}},[t._v(t._s(e.title)+"\n      ")])})),0)]),t._v(" "),r("div",{ref:"productsList",staticClass:"main__board__list__products"},t._l(t.GET_PRODUCT_CARDS({category:t.$route.params.id,sortingType:t.selectedSortType.type,pageCounter:t.pageCounter}),(function(e,o){return r("product-card",{key:e.name+o,attrs:{el:e.id,category:e.category,name:e.name,rang:e.rating,img:e.photo,price:e.price},on:{putProduct:t.addProduct}})})),1),t._v(" "),r("button",{staticClass:"main__board__list__nextbtn",on:{click:function(e){t.pageCounter++}}},[t._v("NextPage")])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ProductCard:r(259).default})}}]);